<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="timerContainer"></div>

    <button id="addTimerButton">Add Timer</button>

    <script>
        const timerContainer = document.getElementById('timerContainer');
        const addTimerButton = document.getElementById('addTimerButton');
      let intervalID;
        const timers = [];
      // let intervalID;

        function createTimer() {
            const timerDiv = document.createElement('div');
            timerDiv.classList.add('container');

            const hourInput = document.createElement('input');
            hourInput.type = 'text';
            hourInput.classList.add('hours');

            const minuteInput = document.createElement('input');
            minuteInput.type = 'text';
            minuteInput.classList.add('minutes');

            const secondInput = document.createElement('input');
            secondInput.type = 'text';
            secondInput.classList.add('seconds');

            const playButton = document.createElement('button');
            playButton.textContent = 'Play';
            playButton.classList.add('paused');

            timerDiv.appendChild(hourInput);
            timerDiv.appendChild(document.createTextNode(':'));
            timerDiv.appendChild(minuteInput);
            timerDiv.appendChild(document.createTextNode(':'));
            timerDiv.appendChild(secondInput);
            timerContainer.appendChild(timerDiv);
            timerContainer.appendChild(playButton);

            const timer = {
                button: playButton,
                hourInput: hourInput,
                minuteInput: minuteInput,
                secondInput: secondInput,
                intervalId: null
            };

            timers.push(timer);

            playButton.addEventListener('click', () => {
                handleTimerClick(timer);
            });
        }

        function handleTimerClick(timer) {
            let hours = Number(timer.hourInput.value);
            let minutes = Number(timer.minuteInput.value);
            let seconds = Number(timer.secondInput.value);

            if (isNaN(hours) || isNaN(minutes) || isNaN(seconds)) {
                console.log('Invalid, enter a number');
                return;
            }

            if (minutes >= 60 || seconds >= 60) {
                console.log('Invalid, enter number below 60');
                return;
            }

            if (timer.button.textContent === 'Play') {
                timer.button.textContent = 'Pause';
                timer.hourInput.readOnly = true;
                timer.minuteInput.readOnly = true;
                timer.secondInput.readOnly = true;

                timer.intervalId = setTimer(hours, minutes, seconds, timer)
            } else {
                timer.button.textContent = 'Play';
                clearInterval(intervalId);
                timer.hourInput.readOnly = false;
                timer.minuteInput.readOnly = false;
                timer.secondInput.readOnly = false;
            }
        }

        function setTimer(hours, minutes, seconds,timer){
          
            let totalSeconds = hours * 3600 + minutes * 60 + seconds;

   intervalId = setInterval(() => {
    hours = Math.floor(totalSeconds / 3600);
    minutes = Math.floor((totalSeconds % 3600) / 60);
    seconds = totalSeconds % 60;
    timer.hourInput.value=hours;
    timer.minuteInput.value=minutes;
    timer.secondInput.value=seconds;

    if (totalSeconds <= 0) {
      clearInterval(intervalId);
    }

    totalSeconds--;
  }, 1000);

  
}
    addTimerButton.addEventListener('click', createTimer);
    </script>
</body>
</html>